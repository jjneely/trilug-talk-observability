\input{preamble.tex}

\title{Observability Through the Lens of\\Metrics and Events}
%%\subtitle{Subtitle Foo on Bar}
\institute{42 Lines, Inc.}
\author{Jack Neely jjneely@42lines.net\\Breandan Dezendorf breandan@42lines.net}

\date{\today}

\begin{document}

\maketitle

\begin{frame}[fragile]
    \frametitle{What's a Metric?}

    Prometheus:
\begin{lstlisting}
# HELP http_requests_total total HTTP hits
# TYPE http_requests_total counter
http_requests_total 34877
# HELP node_load1 1m load average.
# TYPE node_load1 gauge
node_load1 1.35
\end{lstlisting}

    Graphite:
\begin{lstlisting}
servers.A.http.hits 34877 1234567890
servers.A..collectd.load.load.shortterm 1.35 1234567890
\end{lstlisting}

    OpenTSDB:
\begin{lstlisting}
put http.hits 1234567890 34877 host=A
put proc.loadavg.1min 1234567890 1.35 host=A
\end{lstlisting}
\end{frame}

\begin{frame}
    \frametitle{What's an Event?}

\end{frame}

\begin{frame}
    \frametitle{Graphite's \t{summarize()} and Non-Aligned Data}

    \begin{center}
        \begin{tikzpicture}[]
            \begin{axis}[
                width=14cm,
                height=7cm,
                xlabel=Time,
                ylabel=Count,
                xticklabel={$t_{\pgfmathprintnumber{\tick}}$},
                xmin=0, ymin=0, xmax=180
            ]
                \addplot+[only marks] coordinates {
                    (2, 42)  % 118
                    (17, 37)
                    (32, 11)
                    (47, 28)
                    (62, 19) % 104
                    (77, 40)
                    (92, 17)
                    (107, 28)
                    (122, 21) % 67+N
                    (137, 16)
                    (152, 30)
                    (167, 23)
                };
                \addplot+[ybar interval,fill=pink,mark=none] coordinates {
                    (0, 118)
                    (60, 104)
                    (120, 90)
                    (180, 0) % ybar interval extra coord
                };
                \draw[ultra thick,magenta,|->,shorten >=1pt] (47,19) to (62,19);
                \draw[ultra thick,magenta,|->,shorten >=1pt] (107,21) to (122,21);
            \end{axis}
        \end{tikzpicture}
    \end{center}
\end{frame}

\begin{frame}[standout]
    Thank You!
\end{frame}

\appendix

\end{document}
